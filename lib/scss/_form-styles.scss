@import './colors';
@import './shadows';
@import './typography';
@import './variables';

// use either input-base alone
// or a combination of input-shell and input-input

@mixin input-disabled-style() {
  color: $color-disabled;
  background-color: $color-palette-grey-tint-95;
  cursor: not-allowed;
}

@mixin input-base() {
  -webkit-appearance: none;
  -moz-appearance: none;
  width: 100%;
  border: 1px solid $color-contrast-white;
  box-shadow: $shadow-tiny;
  font-size: 1rem;
  font-family: inherit;
  padding: 0 .75rem;
  height: $height-input;
  color: $color-palette-grey-default;
  border-radius: 2px;
  transition: .125s ease-in-out 0s;
  transition-property: border-color;
  margin: 0;
  z-index: auto;

  &:focus {
    border-color: $color-palette-blue-tint-50;
    box-shadow: $shadow-outline;
    outline: none;
  }

  &::placeholder {
    font-style: italic;
  }

  &:disabled {
    @include input-disabled-style();
  }
}

@mixin input-shell() {
  width: 100%;
  border: 1px solid $color-contrast-white;
  box-shadow: $shadow-tiny;
  font-size: 1rem;
  font-family: inherit;
  border-radius: 2px;
  transition: .125s ease-in-out 0s;
  transition-property: border-color;
  margin: 0;
  padding: 0 .75rem;
  
  &:focus-within {
    border-color: $color-palette-blue-tint-50;
    box-shadow: $shadow-outline;
  }
}

@mixin input-input() {
  color: $color-palette-grey-default;
  font-size: 1rem;
  font-family: inherit;
  margin: 0;
  border: 0;
  z-index: auto;
  height: $height-input;
  width: inherit;

  &:focus {
    outline: none;
  }

  &::placeholder {
    font-style: italic;
  }

  &:disabled {
    @include input-disabled-style();
  }
}

// works on "shell" and "base"
@mixin input-invalid() {
  border-color: $color-danger;
  box-shadow: $shadow-outline-danger;
  background-color: $color-palette-red-tint-80;

  &:focus {
    border-color: $color-danger;
    box-shadow: $shadow-outline-danger;
    background-color: $color-contrast-white;
  }
  
  &:focus-within {
    border-color: $color-danger;
    box-shadow: $shadow-outline-danger;
  }
}

@mixin input-label() {
  color: $color-brand-primary-default;
  font-weight: normal;
}

@mixin input-messages() {
  color: $color-danger;
  font-size: $font-size-8;
  line-height: $line-height-title;
  display: flex;
  flex-direction: column;
  margin-top: $spacing-extra-extra-small;
  font-weight: normal;
}

@mixin checkbox() {
  position: relative;
  float: left;
  width: 1.25rem;
  height: 1.25rem;
  padding: .3125rem;
  border: .125rem solid $color-palette-grey-tint-60;
  border-radius: 0;
  background-color: $color-contrast-white;
  transition: background-color,border-color;
      transition-duration: 0s, 0s;
      transition-timing-function: ease, ease;
  transition-duration: .3s,.3s;
  transition-timing-function: ease,ease;
  will-change: background-color,border-color;
  flex-shrink: 0;

  // the dot
  &::after {
    content: "";
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform: scale(0);
    border-radius: 50%;
    background-color: $color-interaction;
    transition: transform .35s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@mixin checkbox-checked() {
  border-color: $color-interaction;
  
  &::after {
    transform: scale(0.625);
  }
}

@mixin checkbox-disabled() {
  border-color: $color-disabled;
  background-color: $color-form-input-background-disabled;
  
  &::after {
    background-color: $color-disabled;
  }
}

@mixin radiobutton() {
  @include checkbox();
  border-radius: 50%;
}

@mixin radiobutton-checked() {
  @include checkbox-checked();
}

@mixin radiobutton-disabled() {
  @include checkbox-disabled();
}
